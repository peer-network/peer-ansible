# ==================================================
# FILE: roles/nginx/tasks/main.yml
# Installing Nginx:  Setup Nginx configuration
# Matches: cp ./docker/nginx/default.conf ... && systemctl restart
# ==================================================
---
- name: "Installing Nginx:  Ensure Nginx is started and enabled"
  systemd:
    name: nginx
    state: started
    enabled: yes

- name: "Installing Nginx:  Check if nginx default.conf exists in source"
  stat:
    path: "{{ playbook_dir }}/../docker/nginx/default.conf"
  register: nginx_conf_source
  delegate_to: localhost
  become: no

- name: Create web root directory
  file:
    path: /var/www/html
    state: directory
    owner: www-data
    group: www-data
    mode: '0755'
# - name: "What server am I on and define the correct value"  
